# Second-team-programming-assignment
index.html是一个数独生成器和求解器的前端代码。它通过调用后端的API来生成和解决数独问题。

前端代码各函数的功能（更多详细内容见代码行注释）：

1、generateSudoku()函数：通过调用后端的/generate接口生成数独题目，并将生成的数独添加到页面中的sudoku-container容器中。

2、solveSudoku()函数：将页面中所有的数独题目按顺序取出，将数独题目转换成二维数组格式，并通过调用后端的/solve接口求解数独问题。然后将求解结果添加到对应的数独题目下方。

运行前端代码的方法：

1、将这段代码保存为一个HTML文件。

2、在浏览器中打开该HTML文件。

3、点击"Generate Sudoku"按钮，将生成一个数独题目的表格。

4、点击"Solve Sudoku"按钮，将求解数独题目，并显示正确答案。

前端代码思路：

1、当点击"Generate Sudoku"按钮时，通过fetch函数向后端发送GET请求，调用/generate接口生成数独题目的数据，并将生成的数独以表格形式添加到页面中。

2、当点击"Solve Sudoku"按钮时，先禁用按钮，然后通过querySelectorAll函数选择页面中所有的数独题目，遍历每个数独题目，将每个格子的数字提取出来，转换为二维数组的形式，并通过fetch函数向后端发送POST请求，调用/solve接口求解数独问题。最后将求解结果以表格形式添加到对应的数独题目下方。

3、这段代码实现了一个简单的数独生成器和求解器的前端界面，通过与后端的API交互来生成和解决数独问题。用户可以点击按钮生成数独题目，并通过点击按钮求解数独问题，并显示正确答案。

main.py是一个基于Flask框架的数独生成与求解的Web应用

后端代码各函数的功能（更多详细内容见代码行注释）：

1、is_valid(sudo, x, y, val): 该函数用于检查在数独棋盘sudo的第y行第x列位置放置数值val是否合法。
它通过检查行、列和宫格是否有冲突来进行判断，如果合法则返回True，否则返回False。

2、fill_sudoku(lock): 这是生成数独棋盘的函数。它使用递归的方式从上至下，从左至右填充数字。在每个位置填充数字之前，先判断当前位置是否为空白，以及填入的数字是否合法。如果顺利填满整个棋盘，则生成成功并返回结果。该函数使用了锁lock来保证在多线程环境下对棋盘的修改是互斥的。

3、dig_holes(sudo, lock, hole_cnt): 这个函数用于挖空数独棋盘。它根据指定的挖空数量hole_cnt，随机选择一些位置将其数字设置为0，形成有一定难度的数独题目。

4、solve_sudoku(sudo, lock): 该函数用于求解数独。它使用递归的方式从上至下，从左至右在空白位置尝试填入数字，并检查是否合法。如果可以填满整个数独棋盘，则返回求解结果。

5、generate(): 这是Flask应用的一个路由函数，用于生成数独棋盘并返回给前端。它调用fill_sudoku()和dig_holes()函数生成数独，并以JSON格式返回结果。

6、solve(): 这是另一个路由函数，用于接收前端传来的数独题目，调用solve_sudoku()函数对其进行求解，并以JSON格式返回结果。

7、home(): 这是Flask应用的主页路由函数，用于展示生成的数独棋盘。它通过多线程生成9个数独棋盘，并将结果传递给前端渲染。

8、compile(): 这是另一个路由函数，用于接收前端传来的代码，并执行编译操作。在这里，代码被当作字符串传递给eval()函数执行，并将结果返回给前端。

9、app.run(): 这是Flask应用的入口点，用于启动Web应用。

运行后端代码的方法：

1、安装必要的依赖库，如Flask等。

2、在终端中进入代码所在的目录。

3、运行命令python 文件名.py，其中文件名.py是代码所在的文件名。

4、在浏览器中访问http://localhost:5000/    ，即可进入应用主页。

代码的思路是通过多线程生成数独棋盘，并使用Flask框架提供的路由函数来处理前端请求。通过调用不同的函数实现数独的生成、求解和展示功能，并使用锁来保证对共享资源的安全访问。
